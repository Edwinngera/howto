
###############################
## Daily Commands Ubuntu
###############################

cd  /somefolder						# go to folder
mkdir /somefolder                   # create folder
touch /somefile

cp -r /somefolder/* /newfolder				# copy to folder
mv /home/user/my_static /home/user/static		# rename or move files

sudo ln -s /home/emil/realpath/  /opt/some/htdocs/  	# make symlinks

chown name:name -R /somefolder
chmod +xrw -R /somefolder

sudo truncate -s 0 filename     # clean content from big files


#########################
## Disk Status and clean:
#########################

ls -lta				# print list view folder
ls -lrt

df -h				# print hdd space
du -s -h *
du -h --max-depth=1 # print hdd space 1 level deep
sudo find / -name "somefile"	# search file

sudo find /opt -type f -size +300000k -exec ls -lh {} \; | awk '{ print $9 ": " $5 }'	# get big files
sudo find /opt -type f -size +500M -exec ls -lh {} \; | awk '{ print $9 ": " $5 }'
sudo find / -name '*' -size +1G

sudo find /home/emil/Downloads/ -type f -iname "*.txt" -exec grep -H 'String' {} +	# search test in files
sudo find /home/emil -type f -iname "*.txt" -exec grep -i "String" {} +

sudo sh someinstalelr.sh	# start some app
sudo ./someinstalelr.run	# start some app

sudo apt-get install someapp	# install app
sudo apt-get remove someapp	# remove app
sudo apt-get purge someapp	# purge app

sudo service someapp start	# start service
sudo service someapp stop	# stop service
sudo service someapp restart	# restart service

sudo /opt/lampp/xampp restart	# restart xampp

# see all services
service < option >  --status-all |  --full-restart

#########################
## mysql management terminal
#########################

# mysql connect with socket in terminal:
sudo mysql --user=root  --socket=/opt/lampp/var/mysql/mysql.sock --password= --default-character-set=utf8
sudo mysql -u root --socket=/opt/lampp/var/mysql/mysql.sock -p

# update mysql password
mysql -u root -p
use mysql;
update user set password=PASSWORD('your_new_password') where User='root';
flush privileges;
quit

# mysql usual commands
mysql> SHOW DATABASES;
mysql> CREATE DATABASE x;
mysql> DROP DATABASE x;
mysql> TRUNCATE TABLE x;
mysql> USE `x`;

----------------------------------------------------

Import Classic Console Terminal:
mysql> create DATABASE_NAME;
#mysql> use DATABASE_NAME;
mysql> connect DATABASE;
mysql> source file.sql;

------------------------------

Import:
mysql -u root -p dbname < table1.sql  #everything
mysql -u root -p --socket=/opt/lampp/var/mysql/mysql.sock dbname < table1.sql #just a table using socket
mysql -u root -p -D dbname < tableName.sql #just a table

Export:
mysqldump -u root -p  dbname > tableName.sql #everything
mysqldump -u root -p  dbname tableName > tableName.sql #just a table
mysqldump -u root -p --socket=/opt/lampp/var/mysql/mysql.sock dbname tableName > tableName.sql #just a table using socket
mysqldump -u root -p --socket=/opt/lampp/var/mysql/mysql.sock dbname > dbname.sql

mysqldum -u root -p dbname \
  --ignore-table=schema.tablename1    \
  --ignore-table=schema.tablename2    \
  --ignore-table=schema.tablename3 > mysqldump.sql

-----------------------------------------------







# update linux password
sudo passwd user    # some user
sudo passwd         # current user

sudo -i     # as root
su          # as root
sudo -u     # masquerade

sudo reboot         # reboot
sudo shutdown -r    # reboot

# backups dumps
mysqldump --all-databases --single-transaction --user=root --pass > all_databases.sql
mysqldump --all-databases --single-transaction --set-gtid-purged=OFF --user=root --pass > all_databases.sql
mysql -uroot -p < partial_database_backup.sql

# clean ibdata1 file
sudo /opt/lampp/xampp stop
sudo rm -rf /opt/lampp/var/mysql/ibdata1
sudo find / -name "ibdata1"
#/opt/lampp/var/mysql/ibdata1
#/var/lib/mysql/ibdata1
sudo cp /var/lib/mysql/ibdata1 /opt/lampp/var/mysql/
sudo /opt/lampp/xampp start


###########################
### vpn tunnel
###########################

sudo vpnc custom_conn.conf  # start vpn connection
sudo vpnc-disconnect        # end vpn connection

sudo gedit somefile.ini		# edit file with gedit
sudo nano somefile.ini		# edit file with nano

###########################
### crontab crons
###########################

sudo /opt/lampp/xampp stop

crontab -e
crontab -l

crontab: usage error: unrecognized option
usage:	crontab [-u user] file
	crontab [ -u user ] [ -i ] { -e | -l | -r }
		(default operation is replace, per 1003.2)
	-e	(edit user's crontab)
	-l	(list user's crontab)
	-r	(delete user's crontab)
	-i	(prompt before deleting user's crontab)

# every 10 minutes
*/10 * * * * /opt/lampp/bin/php /opt/lampp/htdocs/YourPathToSugar/cron.php > /dev/null 2>&1


/opt/lampp/bin/php -c /etc/php5/cli/php.ini  -f install_cli.php -- -c -t
/opt/lampp/bin/php -c /opt/lampp/etc/php.ini   -f install_cli.php -- -c -t // alternative command without cli
php -c /opt/lampp/etc/php.ini -f cron.php > /dev/null 2>&1

sudo service cron stop
sudo service cron start
sudo service cron restart
sudo /etc/init.d/cron restart

sudo service ssh start
sudo service ssh stop

------------------


sudo service --status-all
sudo service virtualbox stop | sudo service mysql stop | sudo service teamviewerd stop | sudo service elasticsearch stop

*/5 * * * * php -f cron.php > /dev/null 2>&1
*/5 * * * * php -c /opt/lampp/etc/php.ini  -f cron.php > /dev/null 2>&1
*/5 * * * * php -c /etc/php5/cli/php.ini -f cron.php > /dev/null 2>&1
* * * * *  cd /home/emil/PhpstormProjects/ToxNew2; php -f cron.php > /dev/null 2>&1
---------

sudo chown -R "www-data:www-data" /home/user/Projects/
sudo chmod -R g+rw /opt/lampp/htdocs

#apache configs
export APACHE_RUN_USER=www-data
export APACHE_RUN_GROUP=www-data

ls -l /home/

sudo service elasticsearch stop
sudo service elasticsearch start

sh /opt/PhpStorm-141.2462/bin/phpstorm.sh

sudo truncate -s0 access_log
sudo truncate -s0 error_log
tail -n 5 -q php_error_log